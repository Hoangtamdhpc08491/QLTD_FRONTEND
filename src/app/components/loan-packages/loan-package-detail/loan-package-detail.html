<<!-- Header -->
<app-header></app-header>

<div class="loan-detail-page" *ngIf="loanPackage">
  <!-- Page Header -->
  <section class="page-header">
    <div class="page-header-bg"></div>
    <div class="container">
      <nav class="breadcrumb">
        <a [routerLink]="'/'" class="breadcrumb-item">Trang ch·ªß</a>
        <span class="breadcrumb-separator">/</span>
        <a [routerLink]="'/goi-vay'" class="breadcrumb-item">G√≥i vay</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">{{loanPackage.tenGoiVay}}</span>
      </nav>
      <div class="page-header-content">
        <div class="package-icon-large">
          <span class="icon-emoji">{{loanPackage.icon}}</span>
        </div>
        <div class="header-text">
          <h1 class="page-title">{{loanPackage.tenGoiVay}}</h1>
          <p class="page-subtitle">{{loanPackage.moTa1}}</p>
          <div class="header-features">
            <div class="feature-badge">
              <span class="feature-label">L√£i su·∫•t t·ª´</span>
              <span class="feature-value">{{getInterestRateText(loanPackage.laiSuat)}}</span>
            </div>
            <div class="feature-badge">
              <span class="feature-label">H·∫°n m·ª©c</span>
              <span class="feature-value">{{formatCurrency(loanPackage.hanMuc)}}</span>
            </div>
            <div class="feature-badge">
              <span class="feature-label">Th·ªùi h·∫°n</span>
              <span class="feature-value">{{loanPackage.thoiHan}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="main-content">
    <div class="container">
      <div class="content-grid">
        <!-- Left Column -->
        <div class="content-main">
          <!-- Overview -->
          <div class="content-section">
            <h2 class="section-title">T·ªïng quan g√≥i vay</h2>
            <p class="section-content">{{loanPackage.moTa2}}</p>
          </div>

          <!-- Advantages -->
          <div class="content-section">
            <h2 class="section-title">∆Øu ƒëi·ªÉm n·ªïi b·∫≠t</h2>
            <div class="advantages-grid">
              <div class="advantage-item" *ngFor="let advantage of loanPackage.uuDiem">
                <div class="advantage-icon">‚úì</div>
                <span>{{advantage}}</span>
              </div>
            </div>
          </div>

          <!-- Process -->
          <div class="content-section">
            <h2 class="section-title">Quy tr√¨nh vay v·ªën</h2>
            <div class="process-steps">
              <div class="process-step" *ngFor="let step of loanPackage.quyTrinh">
                <div class="step-number">{{step.buoc}}</div>
                <div class="step-icon">{{step.icon}}</div>
                <div class="step-content">
                  <h4>{{step.tieuDe}}</h4>
                  <p>{{step.moTa}}</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Requirements -->
          <div class="content-section">
            <h2 class="section-title">Y√™u c·∫ßu h·ªì s∆°</h2>
            <div class="requirements-list">
              <div class="requirement-item" *ngFor="let requirement of loanPackage.yeuCauHoSo">
                <div class="requirement-icon">üìÑ</div>
                <span>{{requirement}}</span>
              </div>
            </div>
          </div>

          <!-- Terms -->
          <div class="content-section">
            <h2 class="section-title">ƒêi·ªÅu ki·ªán vay</h2>
            <div class="terms-content">
              <p>{{loanPackage.dieuKien}}</p>
            </div>
          </div>
        </div>

        <!-- Right Sidebar -->
        <div class="content-sidebar">
          <!-- Quick Info Card -->
          <div class="info-card">
            <h3 class="card-title">Th√¥ng tin chi ti·∫øt</h3>
            <div class="info-items">
              <div class="info-item">
                <span class="info-label">M√£ g√≥i vay:</span>
                <span class="info-value">{{loanPackage.maGoiVay}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">L√£i su·∫•t:</span>
                <span class="info-value highlight">{{getInterestRateText(loanPackage.laiSuat)}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">H·∫°n m·ª©c t·ªëi ƒëa:</span>
                <span class="info-value">{{formatCurrency(loanPackage.hanMuc)}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Th·ªùi h·∫°n vay:</span>
                <span class="info-value">{{loanPackage.thoiHan}}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Tr·∫°ng th√°i:</span>
                <span class="info-value" [class]="loanPackage.trangThai ? 'status-active' : 'status-inactive'">
                  {{loanPackage.trangThai ? 'ƒêang m·ªü' : 'T·∫°m ƒë√≥ng'}}
                </span>
              </div>
            </div>
          </div>

          <!-- Action Card -->
          <div class="action-card">
            <h3 class="card-title">ƒêƒÉng k√Ω ngay</h3>
            <p class="card-subtitle">B·∫Øt ƒë·∫ßu quy tr√¨nh vay v·ªën v·ªõi ch√∫ng t√¥i</p>
            <div class="action-buttons">
              <a [routerLink]="['/dang-ky-vay', loanPackage.maGoiVay]" 
                 class="btn btn-primary btn-full">
                ƒêƒÉng k√Ω vay ngay
              </a>
              <a href="tel:+84123456789" class="btn btn-secondary btn-full">
                <span class="btn-icon">üìû</span>
                G·ªçi t∆∞ v·∫•n
              </a>
            </div>
          </div>

          <!-- Calculator Card -->
          <div class="calculator-card">
            <h3 class="card-title">T√≠nh to√°n kho·∫£n vay</h3>
            <p class="card-subtitle">∆Ø·ªõc t√≠nh s·ªë ti·ªÅn tr·∫£ h√†ng th√°ng</p>
            <div class="calculator-info">
              <div class="calc-item">
                <span class="calc-label">Vay 100 tri·ªáu trong 12 th√°ng:</span>
                <span class="calc-value">{{calculateMonthlyPayment(100000000, loanPackage.laiSuat, 12)}}/th√°ng</span>
              </div>
              <div class="calc-item">
                <span class="calc-label">Vay 200 tri·ªáu trong 24 th√°ng:</span>
                <span class="calc-value">{{calculateMonthlyPayment(200000000, loanPackage.laiSuat, 24)}}/th√°ng</span>
              </div>
            </div>
            <a [routerLink]="'/tinh-lai-suat'" class="btn btn-outline btn-full">
              M√°y t√≠nh chi ti·∫øt
            </a>
          </div>

          <!-- Contact Card -->
          <div class="contact-card">
            <h3 class="card-title">C·∫ßn h·ªó tr·ª£?</h3>
            <div class="contact-info">
              <div class="contact-item">
                <span class="contact-icon">üìû</span>
                <div class="contact-details">
                  <strong>Hotline</strong>
                  <span>+84 123 456 789</span>
                </div>
              </div>
              <div class="contact-item">
                <span class="contact-icon">‚úâÔ∏è</span>
                <div class="contact-details">
                  <strong>Email</strong>
                  <span>support&#64;pyloan.vn</span>
                </div>
              </div>
              <div class="contact-item">
                <span class="contact-icon">‚è∞</span>
                <div class="contact-details">
                  <strong>Gi·ªù l√†m vi·ªác</strong>
                  <span>24/7 - T·∫•t c·∫£ c√°c ng√†y</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Not Found Message -->
<div class="not-found" *ngIf="!loanPackage">
  <div class="container">
    <div class="not-found-content">
      <h2>Kh√¥ng t√¨m th·∫•y g√≥i vay</h2>
      <p>G√≥i vay b·∫°n ƒëang t√¨m ki·∫øm kh√¥ng t·ªìn t·∫°i ho·∫∑c ƒë√£ b·ªã x√≥a.</p>
      <a [routerLink]="'/goi-vay'" class="btn btn-primary">Quay l·∫°i danh s√°ch</a>
    </div>
  </div>
</div>

<!-- Footer -->
<app-footer></app-footer>
