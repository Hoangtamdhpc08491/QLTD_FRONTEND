<<!-- Header -->
<app-header></app-header>

<div class="news-detail-page" *ngIf="news">
  <!-- Page Header -->
  <section class="page-header">
    <div class="page-header-bg"></div>
    <div class="container">
      <nav class="breadcrumb">
        <a [routerLink]="'/'" class="breadcrumb-item">Trang ch·ªß</a>
        <span class="breadcrumb-separator">/</span>
        <a [routerLink]="'/tin-tuc'" class="breadcrumb-item">Tin t·ª©c</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">{{getCategoryName(news.danhMuc)}}</span>
      </nav>
      
      <div class="article-header">
        <div class="article-category">{{getCategoryName(news.danhMuc)}}</div>
        <h1 class="article-title">{{news.tieuDe}}</h1>
        <div class="article-meta">
          <div class="meta-info">
            <span class="meta-author">
              <i class="icon-user">üë§</i>
              {{news.tacGia}}
            </span>
            <span class="meta-date">
              <i class="icon-calendar">üìÖ</i>
              {{formatDate(news.ngayDang)}}
            </span>
            <span class="meta-views">
              <i class="icon-eye">üëÅÔ∏è</i>
              {{formatViewCount(news.luotXem)}} l∆∞·ª£t xem
            </span>
          </div>
          <div class="article-actions">
            <button class="action-btn" (click)="shareNews()" title="Chia s·∫ª">
              <i class="icon-share">üîó</i>
            </button>
            <button class="action-btn" (click)="printNews()" title="In b√†i vi·∫øt">
              <i class="icon-print">üñ®Ô∏è</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="article-content">
    <div class="container">
      <div class="content-grid">
        <!-- Article Main -->
        <main class="article-main">
          <article class="article">
            <!-- Featured Image -->
            <div class="article-image">
              <img [src]="news.anhDaiDien" [alt]="news.tieuDe" loading="lazy">
            </div>

            <!-- Article Summary -->
            <div class="article-summary">
              <p>{{news.tomTat}}</p>
            </div>

            <!-- Article Body -->
            <div class="article-body">
              <div [innerHTML]="news.noiDung" class="content-html"></div>
            </div>

            <!-- Article Tags -->
            <div class="article-tags">
              <h4>T·ª´ kh√≥a:</h4>
              <div class="tags-list">
                <span class="tag" *ngFor="let tag of news.tags">#{{tag}}</span>
              </div>
            </div>

            <!-- Social Share -->
            <div class="social-share">
              <h4>Chia s·∫ª b√†i vi·∫øt:</h4>
              <div class="share-buttons">
                <a href="#" class="share-btn facebook" title="Chia s·∫ª l√™n Facebook">
                  <i class="fab fa-facebook-f"></i>
                  Facebook
                </a>
                <a href="#" class="share-btn twitter" title="Chia s·∫ª l√™n Twitter">
                  <i class="fab fa-twitter"></i>
                  Twitter
                </a>
                <a href="#" class="share-btn linkedin" title="Chia s·∫ª l√™n LinkedIn">
                  <i class="fab fa-linkedin-in"></i>
                  LinkedIn
                </a>
                <a href="#" class="share-btn copy" title="Copy link" (click)="shareNews()">
                  <i class="fas fa-link"></i>
                  Copy Link
                </a>
              </div>
            </div>
          </article>

          <!-- Related News -->
          <section class="related-news" *ngIf="relatedNews.length > 0">
            <h3 class="section-title">B√†i vi·∫øt li√™n quan</h3>
            <div class="related-grid">
              <div class="related-card" *ngFor="let relatedNews of relatedNews">
                <div class="related-image">
                  <a [routerLink]="['/tin-tuc', relatedNews.id]">
                    <img [src]="relatedNews.anhDaiDien" [alt]="relatedNews.tieuDe" loading="lazy">
                  </a>
                </div>
                <div class="related-content">
                  <div class="related-meta">
                    <span class="meta-category">{{getCategoryName(relatedNews.danhMuc)}}</span>
                    <span class="meta-date">{{formatDate(relatedNews.ngayDang)}}</span>
                  </div>
                  <h4 class="related-title">
                    <a [routerLink]="['/tin-tuc', relatedNews.id]">{{relatedNews.tieuDe}}</a>
                  </h4>
                  <p class="related-excerpt">{{relatedNews.tomTat}}</p>
                </div>
              </div>
            </div>
          </section>
        </main>

        <!-- Sidebar -->
        <aside class="article-sidebar">
          <!-- Quick Navigation -->
          <div class="sidebar-card">
            <h3 class="sidebar-title">ƒêi·ªÅu h∆∞·ªõng nhanh</h3>
            <nav class="quick-nav">
              <a [routerLink]="'/tin-tuc'" class="nav-item">
                <i class="icon-news">üì∞</i>
                T·∫•t c·∫£ tin t·ª©c
              </a>
              <a [routerLink]="'/goi-vay'" class="nav-item">
                <i class="icon-loan">üí∞</i>
                C√°c g√≥i vay
              </a>
              <a [routerLink]="'/dang-ky-vay'" class="nav-item">
                <i class="icon-apply">üìù</i>
                ƒêƒÉng k√Ω vay
              </a>
              <a [routerLink]="'/lien-he'" class="nav-item">
                <i class="icon-contact">üìû</i>
                Li√™n h·ªá t∆∞ v·∫•n
              </a>
            </nav>
          </div>

          <!-- Popular News -->
          <div class="sidebar-card">
            <h3 class="sidebar-title">Tin ph·ªï bi·∫øn</h3>
            <div class="popular-list">
              <div class="popular-item" 
                   *ngFor="let popularNews of newsList.slice(0, 5); let i = index">
                <div class="popular-number">{{i + 1}}</div>
                <div class="popular-content">
                  <h4>
                    <a [routerLink]="['/tin-tuc', popularNews.id]">{{popularNews.tieuDe}}</a>
                  </h4>
                  <div class="popular-meta">
                    <span class="meta-views">{{formatViewCount(popularNews.luotXem)}} l∆∞·ª£t xem</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Support -->
          <div class="sidebar-card support-card">
            <h3 class="sidebar-title">C·∫ßn h·ªó tr·ª£?</h3>
            <p>ƒê·ªôi ng≈© chuy√™n vi√™n t∆∞ v·∫•n c·ªßa ch√∫ng t√¥i s·∫µn s√†ng h·ªó tr·ª£ b·∫°n 24/7</p>
            <div class="support-actions">
              <a href="tel:+84123456789" class="support-btn primary">
                <i class="icon-phone">üìû</i>
                G·ªçi ngay
              </a>
              <a [routerLink]="'/lien-he'" class="support-btn secondary">
                <i class="icon-message">üí¨</i>
                Chat t∆∞ v·∫•n
              </a>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>
</div>

<!-- Not Found Message -->
<div class="not-found" *ngIf="!news">
  <div class="container">
    <div class="not-found-content">
      <div class="not-found-icon">üì∞</div>
      <h2>Kh√¥ng t√¨m th·∫•y b√†i vi·∫øt</h2>
      <p>B√†i vi·∫øt b·∫°n ƒëang t√¨m ki·∫øm kh√¥ng t·ªìn t·∫°i ho·∫∑c ƒë√£ b·ªã x√≥a.</p>
      <a [routerLink]="'/tin-tuc'" class="btn btn-primary">Quay l·∫°i tin t·ª©c</a>
    </div>
  </div>
</div>

<!-- Footer -->
<app-footer></app-footer>
