<!-- Header -->
<app-header></app-header>

<div class="news-detail-page" *ngIf="!isLoading && !error && news">
  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <nav class="breadcrumb">
        <a [routerLink]="'/'" class="breadcrumb-item">Trang chủ</a>
        <span class="breadcrumb-separator">/</span>
        <a [routerLink]="'/news'" class="breadcrumb-item">Tin tức</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">{{news.title}}</span>
      </nav>
    </div>
  </section>

  <!-- Main Content -->
  <section class="news-detail-content">
    <div class="container">
      <div class="content-wrapper">
        <!-- News Article -->
        <article class="news-article">
          <header class="article-header">
            <h1 class="article-title">{{news.title}}</h1>
            
            <div class="article-meta">
              <div class="meta-row">
                <span class="meta-date">
                  <i class="fas fa-calendar"></i>
                  {{formatDate(news.timeUpload)}}
                </span>
                <span class="meta-author" *ngIf="news.uploadBy">
                  <i class="fas fa-user"></i>
                  {{news.uploadBy}}
                </span>
                <span class="meta-category">
                  <i class="fas fa-tag"></i>
                  {{getCategoryName(news.categoryId)}}
                </span>
              </div>
              
              <div class="article-actions">
                <button (click)="shareNews()" class="share-btn">
                  <i class="fas fa-share-alt"></i>
                  Chia sẻ
                </button>
              </div>
            </div>
          </header>

          <div class="article-body">
            <div class="article-image" *ngIf="news.thumbnail">
              <img [src]="news.thumbnail" [alt]="news.title" class="featured-image">
            </div>
            
            <div class="article-content">
              <div [innerHTML]="news.content" class="content-html"></div>
            </div>
          </div>
        </article>

        <!-- Related News -->
        <section class="related-news" *ngIf="relatedNews.length > 0">
          <h3 class="related-title">Tin tức liên quan</h3>
          
          <div class="related-grid">
            <article class="related-card" *ngFor="let related of relatedNews">
              <div class="related-image">
                <img 
                  [src]="related.thumbnail || '/assets/images/news/default-news.jpg'" 
                  [alt]="related.title"
                  class="related-thumbnail">
              </div>
              
              <div class="related-content">
                <h4 class="related-news-title">
                  <a [routerLink]="['/news', related.id]">{{related.title}}</a>
                </h4>
                
                <div class="related-meta">
                  <span class="related-date">{{formatDate(related.timeUpload)}}</span>
                </div>
              </div>
            </article>
          </div>
        </section>
      </div>
    </div>
  </section>
</div>

<!-- Loading State -->
<div *ngIf="isLoading" class="loading-state">
  <div class="container">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <p>Đang tải tin tức...</p>
    </div>
  </div>
</div>

<!-- Error State -->
<div *ngIf="error && !isLoading" class="error-state">
  <div class="container">
    <div class="error-content">
      <div class="error-message">
        <i class="fas fa-exclamation-triangle"></i>
        <h2>Có lỗi xảy ra</h2>
        <p>{{error}}</p>
        <div class="error-actions">
          <a [routerLink]="'/news'" class="back-btn">
            <i class="fas fa-arrow-left"></i>
            Quay về danh sách tin tức
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<app-footer></app-footer>
