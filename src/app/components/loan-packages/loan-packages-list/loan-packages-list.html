<!-- Header -->
<app-header></app-header>

<div class="loan-packages-page">
  <!-- Page Header -->
  <section class="page-header">
    <div class="page-header-bg"></div>
    <div class="container">
      <nav class="breadcrumb">
        <a [routerLink]="'/'" class="breadcrumb-item">Trang ch·ªß</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">Danh s√°ch g√≥i vay</span>
      </nav>
      <h1 class="page-title">Danh S√°ch G√≥i Vay</h1>
      <p class="page-subtitle">Ch·ªçn g√≥i vay ph√π h·ª£p v·ªõi nhu c·∫ßu c·ªßa b·∫°n</p>
    </div>
  </section>

  <!-- Loan Packages Grid -->
  <section class="loan-packages-section">
    <div class="container">
      <div class="section-header text-center">
        <p class="section-subtitle">C√°c g√≥i vay</p>
        <h2 class="section-title">T√¨m g√≥i vay ph√π h·ª£p nh·∫•t cho b·∫°n</h2>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-state">
        <div class="loading-spinner"></div>
        <p>ƒêang t·∫£i danh s√°ch g√≥i vay...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error && !loading" class="error-state">
        <div class="error-message">
          <span class="error-icon">‚ö†Ô∏è</span>
          <p>{{error}}</p>
          <button class="btn btn-primary" (click)="loadLoanPackages()">Th·ª≠ l·∫°i</button>
        </div>
      </div>

      <!-- Loan Packages Grid -->
      <div *ngIf="!loading && !error" class="packages-grid">
        <div class="package-card" *ngFor="let package of loanPackages; let i = index">
          <div class="package-image">
            <div class="package-icon">
              <span class="icon-emoji">{{getPackageIcon(package?.name || '')}}</span>
            </div>
            <div class="package-status" [class.active]="getPackageStatus()">
              {{getPackageStatus() ? 'ƒêang m·ªü' : 'T·∫°m ƒë√≥ng'}}
            </div>
          </div>

          <div class="package-content">
            <h3 class="package-title">
              <a [routerLink]="['/goi-vay/chi-tiet', package?.id]">
                {{package?.name || 'T√™n g√≥i vay kh√¥ng c√≥'}}
              </a>
            </h3>
            <p class="package-description">{{package?.description1 || 'M√¥ t·∫£ kh√¥ng c√≥'}}</p>

            <div class="package-features">
              <div class="feature-item">
                <span class="feature-label">L√£i su·∫•t t·ª´:</span>
                <span class="feature-value highlight">{{getInterestRateText(package?.baseInterestRate)}}</span>
              </div>
              <div class="feature-item" *ngIf="package?.category">
                <span class="feature-label">Danh m·ª•c:</span>
                <span class="feature-value">{{package?.category?.name || 'Kh√¥ng c√≥ danh m·ª•c'}}</span>
              </div>
              <div class="feature-item" *ngIf="package?.maxAmount">
                <span class="feature-label">H·∫°n m·ª©c:</span>
                <span class="feature-value">{{formatCurrency(package?.maxAmount)}}</span>
              </div>

              
            </div>

            <div class="package-actions">
              <a [routerLink]="['/goi-vay/chi-tiet', package?.id]" 
                 class="btn btn-outline">
                Xem chi ti·∫øt
              </a>
              <a [routerLink]="['/dang-ky-vay', package?.id]" 
                 class="btn btn-primary">
                ƒêƒÉng k√Ω ngay
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading && !error && loanPackages.length === 0" class="empty-state">
        <div class="empty-message">
          <span class="empty-icon">üìã</span>
          <h3>Ch∆∞a c√≥ g√≥i vay n√†o</h3>
          <p>Hi·ªán t·∫°i ch∆∞a c√≥ g√≥i vay n√†o ƒë∆∞·ª£c ƒëƒÉng t·∫£i. Vui l√≤ng quay l·∫°i sau.</p>
        </div>
      </div>

      <!-- Call to Action -->
      <div *ngIf="!loading && !error && loanPackages.length > 0" class="cta-section">
        <div class="cta-content">
          <h3>C·∫ßn t∆∞ v·∫•n th√™m?</h3>
          <p>ƒê·ªôi ng≈© chuy√™n vi√™n c·ªßa ch√∫ng t√¥i s·∫µn s√†ng h·ªó tr·ª£ b·∫°n 24/7</p>
          <div class="cta-actions">
            <a href="tel:+84123456789" class="btn btn-secondary">
              <span class="btn-icon">üìû</span>
              G·ªçi ngay
            </a>
            <a [routerLink]="'/lien-he'" class="btn btn-outline">
              Li√™n h·ªá t∆∞ v·∫•n
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- Footer -->
<app-footer></app-footer>
